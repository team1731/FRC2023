package driverstation;

import java.awt.BorderLayout;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Random;
import java.util.Scanner;

import javax.swing.JDialog;
import javax.swing.JLabel;

import edu.wpi.first.networktables.DoubleSubscriber;
import edu.wpi.first.networktables.NetworkTable;
import edu.wpi.first.networktables.NetworkTableInstance;
import edu.wpi.first.networktables.NetworkTableValue;
import edu.wpi.first.networktables.NetworkTablesJNI;

public class Keypad extends JDialog implements KeyListener {
	private JLabel label;
    private NetworkTable table;
    
	public Keypad() {
	    NetworkTableInstance inst = NetworkTableInstance.getDefault();
	    inst.startClient4("keypad");
	    inst.setServerTeam(1731);
	    inst.startDSClient();
		table = inst.getTable("KeyPad");
		setLayout(new FlowLayout());
		label = new JLabel();
		label.setFont(new Font("Arial Black", Font.BOLD, 256));
		add(label);
		setSize(700, 500);
		setVisible(true);
	}
	
    public static void main(String[] args) {
    	Keypad keypad = new Keypad();
    	keypad.addKeyListener(keypad);
    }

	@Override
	public void keyPressed(KeyEvent e) {
        String keyCode = Integer.toString(e.getKeyCode());
        label.setText(keyCode);
	    table.putValue("driver entry", NetworkTableValue.makeString(keyCode));
	    System.out.println("sent " + keyCode + " to network tables");   
	}

	@Override
	public void keyReleased(KeyEvent arg0) {
		// TODO Auto-generated method stub
		
	}

	@Override
	public void keyTyped(KeyEvent arg0) {
		// TODO Auto-generated method stub
		
	}
}
